webpackJsonp([25],{"./app/components/HighOrderComponent/Inputs.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n("./node_modules/_react@16.12.0@react/index.js"),s=n.n(a),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(e){return function(t){function n(e){o(this,n);var t=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={inputs:{startDate:"",endDate:"",chartType:"1",comment:""}},t.handleChange=t.handleChange.bind(t),t}return i(n,t),l(n,[{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){var t=c({},this.state.inputs);t[e.target.name]=e.target.value,this.setState({inputs:t})}},{key:"render",value:function(){return s.a.createElement(e,c({},this.props,this.state,{handleChange:this.handleChange}))}}]),n}(e)};t.a=u},"./app/components/Toast/index.js":function(e,t,n){"use strict";function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){_.emit(j,e,t)}var d=n("./node_modules/_react@16.12.0@react/index.js"),f=n.n(d),p=(n("./node_modules/_prop-types@15.7.2@prop-types/index.js"),function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}()),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=function(){function e(){i(this,e)}return m(e,[{key:"styles",get:function(){return{layerStyle:{position:"absolute",left:0,top:0,bottom:0,right:0,background:"rgba(157,157,157,.5)",zIndex:9999},container:{display:"table",position:"fixed",top:"50%",left:"50%",transition:"0.2s opacity linear",WebkitTransition:"0.2s opacity linear",visibility:"hidden",opacity:0,zIndex:1e4,transform:"translate3d(-50%, -50%, 0)",WebkitTransform:"translate3d(-50%, -50%, 0)"},inner:{backgroundColor:"rgba(0, 0, 0, 0.7)",padding:"0.5rem",maxWidth:"16rem",borderRadius:"0.2rem",backgroundRepeat:"no-repeat",boxShadow:"0 0 0.5rem #999999",color:"#ffffff",wordWrap:"break-word"},show:{opacity:1,visibility:"visible"},hide:{opacity:0,visibility:"hidden"}}}}]),e}(),y=new h,b=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={containerStyle:Object.assign({},y.styles.container,y.styles.hidden),layerStyle:y.styles.layerStyle},a=n,o(r,a)}return r(t,e),m(t,[{key:"animateState",value:function(e,t){var n=this,o=y.styles;setTimeout(function(){n.updateStyle(o.show)},0),-1!==this.props.timeout&&setTimeout(function(){n.props.closeToast()},this.props.timeout)}},{key:"updateStyle",value:function(e){this.setState({containerStyle:Object.assign({},y.styles.container,e)})}},{key:"componentDidMount",value:function(){this.animateState()}},{key:"render",value:function(){var e=this.state,t=e.containerStyle,n=e.layerStyle,o=this.props,r=o.text,i=o.closeToast;return p("div",{},void 0,p("div",{style:t,onClick:i},void 0,p("div",{style:y.styles.inner},void 0,r)),p("div",{style:n}))}}]),t}(d.Component),v=b,g={eventList:new Map,on:function(e,t){return this.eventList.has(e)||this.eventList.set(e,[]),this.eventList.get(e).push(t),this},off:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.eventList.delete(e)},emit:function(e){for(var t=this,n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return this.eventList.has(e)?(this.eventList.get(e).forEach(function(e){return setTimeout(function(){return e.call.apply(e,[t].concat(a(o)))},0)}),!0):(console.warn("<"+e+"> Event is not registered. Did you forgot to bind the event ?"),!1)}},_=g,j="SHOW_TOAST",w=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),x=function(e){function t(){var e,n,o,r;s(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=o=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.state={isNotifying:!1},o.content=null,r=n,c(o,r)}return l(t,e),O(t,[{key:"componentDidMount",value:function(){var e=this;_.on(j,function(t,n){return e.showToast(t,n)}).on("HIDE_TOAST",function(){return e.hideToast()})}},{key:"componentWillUnmount",value:function(){}},{key:"showToast",value:function(e,t){var n=this;if(!this.state.isNotifying){var o=function(){return n.hideToast()},r={timeout:t.timeout||this.props.timeout,text:e||this.props.text,closeToast:o};this.content=this.makeToast(r),this.setState({isNotifying:!0})}}},{key:"makeToast",value:function(e){return f.a.createElement(v,e)}},{key:"hideToast",value:function(){this.content=null,this.setState({isNotifying:!1})}},{key:"render",value:function(){this.state.isNotifying;return w("div",{},void 0,this.content)}}]),t}(f.a.Component);x.defaultProps={timeout:1600};var k=x,S=Object.assign(function(e,t){return u(e,t)},{success:function(e,t){return u(e,Object.assign({},t,{type:"success"}))},info:function(e,t){return u(e,Object.assign({},t,{type:"info"}))},warn:function(e,t){return u(e,Object.assign({},t,{type:"warn"}))},error:function(e,t){return u(e,Object.assign({},t,{type:"error"}))},hide:function(){return _.emit("HIDE_TOAST")}}),T=S;n.d(t,"a",function(){return k}),n.d(t,"b",function(){return T})},"./app/containers/ReadDetailPage/index.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{queryComment:function(t){e(Object(y.d)(t))},addComment:function(t){e(Object(y.a)(t))}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/_react@16.12.0@react/index.js"),c=n.n(s),l=(n("./node_modules/_prop-types@15.7.2@prop-types/index.js"),n("./node_modules/_react-helmet@5.2.1@react-helmet/lib/Helmet.js")),u=n("./node_modules/_react-redux@5.1.2@react-redux/lib/index.js"),d=n("./node_modules/_redux@3.7.2@redux/es/index.js"),f=n("./node_modules/_reselect@3.0.1@reselect/es/index.js"),p=(n("./node_modules/_react-keeper@2.2.2@react-keeper/index.js"),n("./app/components/HighOrderComponent/Inputs.js")),m=n("./app/utils/avatarUrl.js"),h=n("./app/components/Toast/index.js"),y=(n("./app/components/Loader/index.js"),n("./app/components/Modal/index.js"),n("./app/redux/modules/Comment/modules/actions.js")),b=function(e){return e.get("comment")};n("./app/containers/ReadDetailPage/index.scss");n.d(t,"ReadDetailPage",function(){return O}),t.mapDispatchToProps=a;var v=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=r;else if(a>1){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_=v(l.Helmet,{},void 0,v("title",{},void 0,"资讯详情"),v("meta",{name:"description",content:"资讯详情"})),j=v("h3",{},void 0,"评论"),w=v(h.a,{}),O=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={detail:!1},n.addComment=n.addComment.bind(n),n}return i(t,e),g(t,[{key:"componentWillReceiveProps",value:function(e){!this.props.isCommentSuccess&&e.isCommentSuccess&&(h.b.info("评论发表成功"),this.props.queryComment({contentid:this.props.params.id,statuss:"0,1"}))}},{key:"componentDidMount",value:function(){var e=this.props.params.id,t=sessionStorage.getItem("READ_DETAEL_"+e);this.setState({detail:JSON.parse(t)}),this.props.queryComment({contentid:e,statuss:"0,1"})}},{key:"addComment",value:function(){if(this.refs.commentInput.value){var e=this.props.user,t=e.username,n=e.userid,o=e.headportrait;this.props.addComment({contentid:this.props.params.id,star:5,content:this.refs.commentInput.value,userid:n,username:t,userphoto:o}),this.refs.commentInput.value=""}}},{key:"render",value:function(){var e=this.props,t=(e.loading,e.handleChange,e.inputs,e.commentList),n=this.state.detail;return t=[{userphoto:"",username:"test",createtime:"2019-01-01 12:00",content:"了解"},{userphoto:"",username:"海海",createtime:"2019-01-01 12:00",content:"又涨价了！"}],v("div",{},void 0,_,v("div",{className:"read-detail "},void 0,n&&v("article",{},void 0,v("header",{},void 0,v("h1",{},void 0,n.contenttitle),v("p",{},void 0,"发布时间:",v("time",{pubdate:"true"},void 0,n.createtime)),v("p",{},void 0,"阅读：",n.hits)),v("section",{},void 0,v("p",{},void 0,n.summary),v("div",{dangerouslySetInnerHTML:{__html:n.description}},void 0))),t&&t.length>0&&v("div",{className:"read-detail__comment"},void 0,j,v("ul",{},void 0,t.map(function(e,t){return v("li",{className:"d-flex border-bottom"},"comment-"+t,v("div",{className:"header-wrap"},void 0,v("img",{src:e.userphoto||m.a,alt:""})),v("div",{className:"col"},void 0,v("p",{className:"clearfix"},void 0,v("span",{className:"username"},void 0,e.username),v("span",{className:"createtime"},void 0,e.createtime)),v("p",{},void 0,e.content)))}))),v("footer",{className:"read-detail__footer d-flex border-top"},void 0,v("div",{className:"col align-self-center"},void 0,c.a.createElement("input",{name:"comment",ref:"commentInput",type:"text",placeholder:"说点啥吧！"})),v("button",{onClick:this.addComment},void 0,"评论"))),w)}}]),t}(c.a.PureComponent),x=Object(f.b)({loading:function(){return Object(f.a)(b,function(e){return e.get("loading")})}(),error:function(){return Object(f.a)(b,function(e){return e.get("error")})}(),commentList:function(){return Object(f.a)(b,function(e){return e.get("commentList")})}(),isCommentSuccess:function(){return Object(f.a)(b,function(e){return e.get("isCommentSuccess")})}()});t.default=Object(u.connect)(x,a)(Object(d.compose)(p.a)(O))},"./app/containers/ReadDetailPage/index.scss":function(e,t,n){var o=n("./node_modules/_css-loader@0.28.4@css-loader/index.js!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js!./app/containers/ReadDetailPage/index.scss");"string"==typeof o&&(o=[[e.i,o,""]]);var r={};r.transform=void 0;n("./node_modules/_style-loader@0.18.1@style-loader/lib/addStyles.js")(o,r);o.locals&&(e.exports=o.locals)},"./app/utils/avatarUrl.js":function(e,t,n){"use strict";t.a="//pic.c-ctrip.com/h5/rwd_myctrip/v6.7/portrain_unlogin@2x.png"},"./node_modules/_css-loader@0.28.4@css-loader/index.js!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js!./app/containers/ReadDetailPage/index.scss":function(e,t,n){t=e.exports=n("./node_modules/_css-loader@0.28.4@css-loader/lib/css-base.js")(void 0),t.push([e.i,".read-detail{background:#fff;padding-bottom:2.5rem}.read-detail article{padding:.75rem}.read-detail article header h1{font-size:.8rem;text-align:center;margin-bottom:.15rem}.read-detail article header p{text-align:left;color:#999}.read-detail article section{word-break:break-all}.read-detail article section p{text-indent:2em}.read-detail article section p img{max-width:100%!important;float:left}.read-detail__footer{min-height:2.5rem;position:fixed;bottom:0;left:0;width:100%;background-color:#fafafa;padding:.25rem .25rem .25rem .5rem;box-sizing:border-box;bottom:constant(safe-area-inset-bottom);bottom:env(safe-area-inset-bottom)}.read-detail__footer input{width:100%}.read-detail__footer button{background-color:#ff7d13;padding:.5rem 2rem;font-size:.9rem;color:#fff;border-radius:.2rem;line-height:1.05rem;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:center}.read-detail__comment h3{box-shadow:inset 0 -1px 0 2px #fff;width:100%;background:#f5f5f5;padding-left:.75rem;height:1.75rem;line-height:1.75rem}.read-detail__comment li{padding:.25rem .75rem}.read-detail__comment li .header-wrap{width:2.5rem;height:2.5rem;margin-right:.2rem}.read-detail__comment li .header-wrap img{width:100%;height:100%}.read-detail__comment li p{word-break:break-all}.read-detail__comment li .username{float:left;font-size:.5rem;color:#999}.read-detail__comment li .createtime{float:right;font-size:.5rem;color:#999}",""])}});